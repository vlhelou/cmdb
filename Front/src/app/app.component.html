@if(usuario){

<header style="height: 45px;">
    <nav class="navbar-expand-md navbar-dark fixed-top bg-ligh">
        <p-menubar [model]="items">
            <ng-template #start>
                <a routerLink="/home" class="navbar-brand">
                    <img src="assets/cmdb-fundo-transparente_branco.png" height="40" />
                </a>
            </ng-template>
            <ng-template #end>
                <!-- <a href="javascript:void(0)" (click)="sair()"><i class="pi pi-sign-out"></i></a> -->
                <p-splitbutton [label]="usuario.identificacao" [model]="itemsBotao" severity="secondary" />
            </ng-template>
        </p-menubar>
    </nav>
</header>
}

<main role="main" style="margin-left: 20px;margin-right: 20px;">
    <router-outlet />
</main>

<footer class="container mt-4">
    <p>&copy; 2017-2018 Company, Inc. &middot; <a href="#">Privacy</a> &middot; <a href="#">Terms</a></p>
</footer>

<p-dialog [(visible)]="mostraTrocaSenha" [modal]="true" header="Trocar senha">
    <form [formGroup]="trocaSenhaForm" (ngSubmit)="salvarTrocaSenha()">
        <div class="campo">
            <label for="senhaAtual">Senha atual</label>
            <p-password inputId="senhaAtual" formControlName="senhaAtual" [feedback]="false" toggleMask></p-password>
            @if(trocaSenhaForm.get('senhaAtual')?.invalid && trocaSenhaForm.get('senhaAtual')?.touched){

            <small class="erro">
                Informe a senha atual.
            </small>
            }
        </div>

        <div class="campo">
            <label for="novaSenha">Nova senha</label>
            <p-password inputId="novaSenha" formControlName="novaSenha" [feedback]="true" toggleMask></p-password>
            @if(trocaSenhaForm.get('novaSenha')?.invalid && trocaSenhaForm.get('novaSenha')?.touched){

            <small class="erro">
                Nova senha deve ter pelo menos 6 caracteres.
            </small>
            }
        </div>

        <div class="campo">
            <label for="confirmacaoSenha">Confirme a nova senha</label>
            <p-password inputId="confirmacaoSenha" formControlName="confirmacaoSenha" [feedback]="false"
                toggleMask></p-password>
            @if(trocaSenhaForm.get('confirmacaoSenha')?.invalid && trocaSenhaForm.get('confirmacaoSenha')?.touched){

            <small class="erro">
                Confirme a nova senha.
            </small>
            }
        </div>

        @if(trocaSenhaForm.errors?.['passwordMismatch'] && (trocaSenhaForm.dirty || trocaSenhaForm.touched)){
        <div class="erro">
            Nova senha e confirmação não conferem.
        </div>
        }

        <div class="dialog-actions" style="margin-top: 1rem; display: flex; gap: 0.5rem; justify-content: flex-end;">
            <button pButton type="button" label="Cancelar" severity="secondary"
                (click)="mostraTrocaSenha = false"></button>
            <button pButton type="submit" label="Salvar" [disabled]="trocaSenhaForm.invalid"></button>
        </div>
    </form>
</p-dialog>